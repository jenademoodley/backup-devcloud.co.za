<!DOCTYPE html><html lang="en-za"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ECS - Monitor container-level CPU and memory using Docker stats and CloudWatch metrics - DevCloud</title><meta name="description" content=" When using ECS, you run containers in the form of an ECS task, where each task can contain one or more container definitions, up to a maximum of 10. If you want to monitor the performance of your tasks, you can monitor the containers&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://devcloud.co.za/ecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics/"><link rel="alternate" type="application/atom+xml" href="https://devcloud.co.za/feed.xml"><link rel="alternate" type="application/json" href="https://devcloud.co.za/feed.json"><meta property="og:title" content="ECS - Monitor container-level CPU and memory using Docker stats and CloudWatch metrics"><meta property="og:image" content="https://devcloud.co.za/media/posts/13/check-the-version-with-fixes-link-in-description-29-638.jpg"><meta property="og:site_name" content="DevCloud"><meta property="og:description" content=" When using ECS, you run containers in the form of an ECS task, where each task can contain one or more container definitions, up to a maximum of 10. If you want to monitor the performance of your tasks, you can monitor the containers&hellip;"><meta property="og:url" content="https://devcloud.co.za/ecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://devcloud.co.za/media/website/cloud-icon-2.png" type="image/x-icon"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://devcloud.co.za/assets/css/style.css?v=c37594acf579eddd689835749263c87b"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://devcloud.co.za/ecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics/"},"headline":"ECS - Monitor container-level CPU and memory using Docker stats and CloudWatch metrics","datePublished":"2020-08-18T17:39","dateModified":"2020-08-18T19:13","image":{"@type":"ImageObject","url":"https://devcloud.co.za/media/posts/13/check-the-version-with-fixes-link-in-description-29-638.jpg","height":466,"width":638},"description":" When using ECS, you run containers in the form of an ECS task, where each task can contain one or more container definitions, up to a maximum of 10. If you want to monitor the performance of your tasks, you can monitor the containers&hellip;","author":{"@type":"Person","name":"Jenade Moodley"},"publisher":{"@type":"Organization","name":"Jenade Moodley"}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://devcloud.co.za/">DevCloud</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li class="active-parent has-submenu"><span class="is-separator" aria-haspopup="true">AWS Cloud</span><ul class="navbar__submenu level-2" aria-hidden="true"><li class="has-submenu"><span class="is-separator" aria-haspopup="true">EFS</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://devcloud.co.za/improving-efs-performance-part-1/" target="_self">Improving EFS Performance</a></li></ul></li><li class="active-parent has-submenu"><span class="is-separator" aria-haspopup="true">ECS</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://devcloud.co.za/ecs-dynamic-port-mapping/" target="_self">Dynamic Port Mapping</a></li><li class="active"><a href="https://devcloud.co.za/ecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics/" target="_self">Container-level monitoring with Docker stats</a></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">ELB</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://devcloud.co.za/understanding-alb-least-outstanding-request/" target="_self">ALB - Least Outstanding Requests</a></li></ul></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">Linux</span><ul class="navbar__submenu level-2" aria-hidden="true"><li class="has-submenu"><span class="is-separator" aria-haspopup="true">NFS</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://devcloud.co.za/the-nfs-buffer-cache/" target="_self">NFS Buffer Cache</a></li></ul></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">About</span><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://devcloud.co.za/about-me/" target="_self">About Me</a></li><li><a href="https://devcloud.co.za/about-this-website/" target="_self">About this Site</a></li></ul></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://devcloud.co.za/media/posts/13/check-the-version-with-fixes-link-in-description-29-638.jpg" srcset="https://devcloud.co.za/media/posts/13/responsive/check-the-version-with-fixes-link-in-description-29-638-xs.jpg 300w, https://devcloud.co.za/media/posts/13/responsive/check-the-version-with-fixes-link-in-description-29-638-sm.jpg 480w, https://devcloud.co.za/media/posts/13/responsive/check-the-version-with-fixes-link-in-description-29-638-md.jpg 768w, https://devcloud.co.za/media/posts/13/responsive/check-the-version-with-fixes-link-in-description-29-638-lg.jpg 1024w, https://devcloud.co.za/media/posts/13/responsive/check-the-version-with-fixes-link-in-description-29-638-xl.jpg 1360w, https://devcloud.co.za/media/posts/13/responsive/check-the-version-with-fixes-link-in-description-29-638-2xl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="466" width="638" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2020-08-18T17:39">August 18, 2020</time></div><h1>ECS - Monitor container-level CPU and memory using Docker stats and CloudWatch metrics</h1><div class="post__meta post__meta--author"><img src="https://devcloud.co.za/media/website/39186496_1809180909164306_8750795900512632832_o.jpg" loading="eager" alt="Jenade Moodley" class="post__author-thumb"> <a href="https://devcloud.co.za/authors/jenade-moodley/" class="feed__author invert">Jenade Moodley</a></div></div></header></div><div class="wrapper post__entry"><p>When using ECS, you run containers in the form of an ECS task, where each task can contain one or more container definitions, up to a maximum of 10. If you want to monitor the performance of your tasks, you can monitor the containers at the task level. This does offer good insight into the working of your task, but it doesn't allow you to view the performance of each container. In a delicate environment where you need to monitor each and every aspect of the system, monitoring each container would be extremely beneficial. There is no CloudWatch metric which monitors container-level resource usage, but it is possible to build our own CloudWatch metric using the container-level resource usage statistics provided by the Docker daemon on the EC2 host. These statistics are obtained by the more widely known <code>docker stats</code> command.</p><p>The <code>docker stats</code> command returns a live data stream for running containers. With this command, you would be able to obtain the CPU, memory, network I/O, as well as disk I/O usage of each container. For this post, I will only be covering CPU and memory usage. You can take a more detailed look at <code>docker stats</code> from <a href="https://docs.docker.com/engine/reference/commandline/stats/" target="_blank">Docker's documentation</a>.</p><p>To provide a short overview of the steps we will be deploying, we will first create a script which obtains the resource usage statistics using <code>docker stats</code>, and upload these values to CloudWatch metrics. The statistics obtained will need to be easily obtained and parsed, hence the statistics will be obtained as a <code>JSON</code>, and be parsed using <code>jq</code> (more on this below). This script needs to be run at set intervals in order to gain a good understanding of the container resource usage patterns. To do this, we will create a cron job which will run this script at a set frequency.</p><h2 id="installing-the-dependencies">Installing the dependencies</h2><p>As we will be sending the metrics to CloudWatch, and parsing through the <code>JSON</code> statistics using <code>jq</code>, we need to install the AWS CLI, as well as the <code>jq</code> binary. As you are using ECS, you would most likely be using the ECS-optimized AMI, which is based on Amazon Linux, or Amazon Linux 2. As such, the commands you would use to install these dependencies would be as below:</p><pre class="line-numbers language-bash"><code>sudo yum install python3 python3-pip jq -y
sudo pip3 install -U awscli</code></pre><h2 id="creating-the-script">Creating the script</h2><p>Let's first look at the commands which will be included in the script.</p><p>We first need to obtain the resource usage statistics using <code>docker stats</code>. By default,<code>docker stats</code> is presented as text, which is not very easy to handle when trying to filter for specific values. As such, we can format the statistics into a <code>JSON</code> using the <code>--format</code> parameter. This will be based on a publicly available example <a href="https://gist.github.com/KyleBanks/8befbf0ae0d0535fa27d33cb67b40bd1" target="_blank">docker-stats-json</a>. The statistics will then be formed into a valid <code>JSON</code> object using <code>jq</code>.</p><pre class="line-numbers language-bash"><code>STATS=$(docker stats --no-stream --format "{\"container\": \"{{ .Container }}\",\"name\": \"{{ .Name }}\", \"memory\": { \"raw\": \"{{ .MemUsage }}\", \"percent\": \"{{ .MemPerc }}\"}, \"cpu\": \"{{ .CPUPerc }}\"}" | jq '.' -s -c )</code></pre><p>As we will be uploading the data to CloudWatch metrics, CloudWatch is region-specific. As such we also need to include the region in our script. We can obtain the region programmatically from the metadata service.</p><pre class="line-numbers language-bash"><code>REGION=$(curl http://169.254.169.254/latest/meta-data/placement/region 2&gt; /dev/null)</code></pre><p>We also need a way to identify and structure our metrics in CloudWatch. One good way to manage this is to use the EC2 instance ID as a dimension for the metric, as well as the Container Name, and Container ID. This will allow us to identify the exact container which provided the metric. As such, we first need the EC2 instance ID, which can also be obtained from the instance metadata.</p><pre class="line-numbers language-bash"><code>INSTANCE_ID=$(curl http://169.254.169.254/latest/meta-data/instance-id 2&gt; /dev/null)</code></pre><p>Finally, we need to parse through the JSON to obtain the Container Name, Container ID, CPU, and Memory usage of each container. To do this we first need to obtain the total number of containers.</p><pre class="line-numbers language-bash"><code>NUM_CONTAINERS=$(echo "$STATS" | jq '. | length')</code></pre><p>We then iterate through the JSON to obtain the values we need.</p><pre class="line-numbers language-bash"><code>for (( i=0; i&lt;$NUM_CONTAINERS; i++ )) 
do CPU=$(echo "$STATS" | jq -r .[$i].cpu | sed 's/%//')
MEMORY=$(echo "$STATS" | jq -r .[$i].memory.percent | sed 's/%//')
CONTAINER=$(echo $STATS | jq -r .[$i].container)
CONTAINER_NAME=$(echo $STATS | jq -r .[$i].name)</code></pre><p>And then upload these values to CloudWatch metrics using the AWS CLI.</p><pre class="line-numbers language-bash"><code>/usr/local/bin/aws cloudwatch put-metric-data --metric-name CPU --namespace DockerStats --unit Percent --value $CPU --dimensions InstanceId=$INSTANCE_ID,ContainerId=$CONTAINER,ContainerName=$CONTAINER_NAME --region $REGION
/usr/local/bin/aws cloudwatch put-metric-data --metric-name Memory --namespace DockerStats --unit Percent --value $MEMORY --dimensions InstanceId=$INSTANCE_ID,ContainerId=$CONTAINER,ContainerName=$CONTAINER_NAME --region $REGION
done</code></pre><p>Putting it all together, the completed script should look as below.</p><pre class="line-numbers language-bash"><code>#!/bin/bash

REGION=$(curl http://169.254.169.254/latest/meta-data/placement/region 2&gt; /dev/null)
INSTANCE_ID=$(curl http://169.254.169.254/latest/meta-data/instance-id 2&gt; /dev/null)
STATS=$(docker stats --no-stream --format "{\"container\": \"{{ .Container }}\",\"name\": \"{{ .Name }}\", \"memory\": { \"raw\": \"{{ .MemUsage }}\", \"percent\": \"{{ .MemPerc }}\"}, \"cpu\": \"{{ .CPUPerc }}\"}" | jq '.' -s -c )
NUM_CONTAINERS=$(echo "$STATS" | jq '. | length')

for (( i=0; i&lt;$NUM_CONTAINERS; i++ )) 
do CPU=$(echo "$STATS" | jq -r .[$i].cpu | sed 's/%//')
MEMORY=$(echo "$STATS" | jq -r .[$i].memory.percent | sed 's/%//')
CONTAINER=$(echo $STATS | jq -r .[$i].container)
CONTAINER_NAME=$(echo $STATS | jq -r .[$i].name)

/usr/local/bin/aws cloudwatch put-metric-data --metric-name CPU --namespace DockerStats --unit Percent --value $CPU --dimensions InstanceId=$INSTANCE_ID,ContainerId=$CONTAINER,ContainerName=$CONTAINER_NAME --region $REGION
/usr/local/bin/aws cloudwatch put-metric-data --metric-name Memory --namespace DockerStats --unit Percent --value $MEMORY --dimensions InstanceId=$INSTANCE_ID,ContainerId=$CONTAINER,ContainerName=$CONTAINER_NAME --region $REGION

done</code></pre><h2 id="creating-the-cron-job">Creating the Cron job</h2><p>For the sake of simplicity, I have placed the above script at&nbsp;<code>/opt/docker-stats-monitor/monitor.sh</code> in my EC2 instance.</p><p>We first need to make the above script executable.</p><pre class="line-numbers language-bash"><code>chmod +x /opt/docker-stats-monitor/monitor.sh</code></pre><p>We then need to create the cron job by creating a file in /etc/cron.d.</p><pre class="line-numbers language-bash"><code>echo '* * * * * root bash /opt/docker-stats-monitor/monitor.sh' &gt; /etc/cron.d/docker-stats</code></pre><p>The above example creates a cron job which obtains and uploads the resource-usage statistics every minute. You can adjust the frequency by changing the <a href="https://crontab.guru/" target="_blank">cron schedule expression</a>.</p><h2 id="the-results">The Results</h2><figure class="post__image post__image--wide"><img loading="lazy" src="https://devcloud.co.za/media/posts/13/Annotation-2020-08-18-184055-2.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://devcloud.co.za/media/posts/13/responsive/Annotation-2020-08-18-184055-2-xs.jpg 300w, https://devcloud.co.za/media/posts/13/responsive/Annotation-2020-08-18-184055-2-sm.jpg 480w, https://devcloud.co.za/media/posts/13/responsive/Annotation-2020-08-18-184055-2-md.jpg 768w, https://devcloud.co.za/media/posts/13/responsive/Annotation-2020-08-18-184055-2-lg.jpg 1024w, https://devcloud.co.za/media/posts/13/responsive/Annotation-2020-08-18-184055-2-xl.jpg 1360w, https://devcloud.co.za/media/posts/13/responsive/Annotation-2020-08-18-184055-2-2xl.jpg 1600w" height="577" width="1454" alt=""><figcaption>Docker stats as CloudWatch Metrics</figcaption></figure><h2 id="automating-the-procedure">Automating the Procedure</h2><p>When using ECS, you would hardly access the EC2 host, if at all. You would also most likely be incorporating Auto Scaling or Capacity Providers to launch the EC2 instance, hence you cannot SSH into each instance to configure this setup. To make this a plausible solution, you can implement the above steps using a <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html" target="_blank">User Data script</a>.</p><pre class="line-numbers language-bash"><code>#!/bin/bash

yum install python3 python3-pip jq -y
pip3 install -U awscli

mkdir -p /opt/docker-stats-monitor

cat &gt; /opt/docker-stats-monitor/monitor.sh &lt;&lt; 'EOF'
#!/bin/bash

REGION=$(curl http://169.254.169.254/latest/meta-data/placement/region 2&gt; /dev/null)

INSTANCE_ID=$(curl http://169.254.169.254/latest/meta-data/instance-id 2&gt; /dev/null)

STATS=$(docker stats --no-stream --format "{\"container\": \"{{ .Container }}\",\"name\": \"{{ .Name }}\", \"memory\": { \"raw\": \"{{ .MemUsage }}\", \"percent\": \"{{ .MemPerc }}\"}, \"cpu\": \"{{ .CPUPerc }}\"}" | jq '.' -s -c )

NUM_CONTAINERS=$(echo "$STATS" | jq '. | length')

for (( i=0; i&lt;$NUM_CONTAINERS; i++ )) 
do CPU=$(echo "$STATS" | jq -r .[$i].cpu | sed 's/%//')
MEMORY=$(echo "$STATS" | jq -r .[$i].memory.percent | sed 's/%//')
CONTAINER=$(echo $STATS | jq -r .[$i].container)
CONTAINER_NAME=$(echo $STATS | jq -r .[$i].name)

/usr/local/bin/aws cloudwatch put-metric-data --metric-name CPU --namespace DockerStats --unit Percent --value $CPU --dimensions InstanceId=$INSTANCE_ID,ContainerId=$CONTAINER,ContainerName=$CONTAINER_NAME --region $REGION

/usr/local/bin/aws cloudwatch put-metric-data --metric-name Memory --namespace DockerStats --unit Percent --value $MEMORY --dimensions InstanceId=$INSTANCE_ID,ContainerId=$CONTAINER,ContainerName=$CONTAINER_NAME --region $REGION

done
EOF

chmod +x /opt/docker-stats-monitor/monitor.sh

echo '* * * * * root bash /opt/docker-stats-monitor/monitor.sh' &gt; /etc/cron.d/docker-stats</code></pre><h2 id="conclusion">Conclusion</h2><p>This is a feasible solution for monitoring Docker containers, however one big caveat which you would have noticed is that this solution requires running commands on the EC2 host used for running the containers. This means that this solution can only work for tasks using the EC2 Launch Type, and will not work for Fargate tasks.</p><p>And that's all there is to it. Let me know your thoughts in the comments below, and feel free to adjust these steps to meet your use-case, and share with the rest of the community.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on August 18, 2020</p><ul class="post__tag"><li><a href="https://devcloud.co.za/blog/aws/">AWS</a></li><li><a href="https://devcloud.co.za/blog/docker/">Docker</a></li><li><a href="https://devcloud.co.za/blog/ecs/">ECS</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevcloud.co.za%2Fecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics%2F" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fdevcloud.co.za%2Fecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics%2F&amp;via=DevCloud&amp;text=ECS%20-%20Monitor%20container-level%20CPU%20and%20memory%20using%20Docker%20stats%20and%20CloudWatch%20metrics" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fdevcloud.co.za%2Fecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics%2F&amp;media=https%3A%2F%2Fdevcloud.co.za%2Fmedia%2Fposts%2F13%2Fcheck-the-version-with-fixes-link-in-description-29-638.jpg&amp;description=ECS%20-%20Monitor%20container-level%20CPU%20and%20memory%20using%20Docker%20stats%20and%20CloudWatch%20metrics" class="js-share pinterest" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#pinterest"/></svg> <span>Pinterest</span> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fdevcloud.co.za%2Fecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics%2F&amp;title=ECS%20-%20Monitor%20container-level%20CPU%20and%20memory%20using%20Docker%20stats%20and%20CloudWatch%20metrics" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span> </a><a href="https://api.whatsapp.com/send?text=ECS%20-%20Monitor%20container-level%20CPU%20and%20memory%20using%20Docker%20stats%20and%20CloudWatch%20metrics https%3A%2F%2Fdevcloud.co.za%2Fecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics%2F" class="js-share whatsapp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#whatsapp"/></svg> <span>WhatsApp</span></a></div><div class="post__bio bio"><img class="bio__avatar" src="https://devcloud.co.za/media/website/39186496_1809180909164306_8750795900512632832_o.jpg" loading="lazy" alt="Jenade Moodley"><div class="bio__info"><h3 class="bio__name"><a href="https://devcloud.co.za/authors/jenade-moodley/" class="invert" rel="author">Jenade Moodley</a></h3><p>Hi there. I&#x27;m a Cloud Support Engineer, currently working at AWS. I have a background in Computer Science, and gained reputable experience with Linux, Containers, and Cloud Architecture</p></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://devcloud.co.za/about-me/" class="invert post__nav-link" rel="prev"><span>Previous</span> About Me</a></div></div></nav><div class="post__comments"><div class="wrapper"><h2 class="h5">Comments</h2><div id="disqus_thread"></div><script>var disqus_config = function () {
                       this.page.url = 'https://devcloud.co.za/ecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics/';
               		this.page.identifier = '13';
                   };
               
                   var disqus_loaded = false;
               
                   function publiiLoadDisqus() {
                       if(disqus_loaded) {
                           return false;
                       }
               
                       var top = document.getElementById('disqus_thread').offsetTop;
               
                       if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                           disqus_loaded = true;
               
                           (function () {
                               var d = document, s = d.createElement('script');
                               s.src = 'https://devcloud-co-za.disqus.com/embed.js';
                               s.setAttribute('data-timestamp', +new Date());
                               (d.head || d.body).appendChild(s);
                           })();
                       }
                   }
               
                   publiiLoadDisqus();
               
                   window.onscroll = function() {
                       publiiLoadDisqus();
                   };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noreferrer">comments powered by Disqus.</a></noscript></div></div></main><footer class="footer"><div class="footer__copyright"><p>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii Static CMS</a></p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://devcloud.co.za/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>