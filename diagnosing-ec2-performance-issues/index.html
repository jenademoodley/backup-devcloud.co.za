<!DOCTYPE html><html lang="en-za"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Diagnosing EC2 Performance Issues - DevCloud</title><meta name="description" content="If you are an AWS beginner, or even an avid AWS user, you may experience times when your EC2 instance grinds to a halt for no apparent reason. This impact to performance is because you hit a limit, and are now being throttled. In any&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><script type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
						new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
						j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
						'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
					})(window,document,'script','dataLayer','G-8FC1RDBQN5');</script><link rel="canonical" href="https://devcloud.co.za/diagnosing-ec2-performance-issues/"><link rel="alternate" type="application/atom+xml" href="https://devcloud.co.za/feed.xml"><link rel="alternate" type="application/json" href="https://devcloud.co.za/feed.json"><meta property="og:title" content="Diagnosing EC2 Performance Issues"><meta property="og:image" content="https://devcloud.co.za/media/posts/15/How-Fast-or-Slow-Are-Turtles.jpg"><meta property="og:image:width" content="750"><meta property="og:image:height" content="410"><meta property="og:site_name" content="DevCloud"><meta property="og:description" content="If you are an AWS beginner, or even an avid AWS user, you may experience times when your EC2 instance grinds to a halt for no apparent reason. This impact to performance is because you hit a limit, and are now being throttled. In any&hellip;"><meta property="og:url" content="https://devcloud.co.za/diagnosing-ec2-performance-issues/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://devcloud.co.za/media/website/cloud-icon-2.png" type="image/x-icon"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:var(--body-font);--post-entry-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style><link rel="stylesheet" href="https://devcloud.co.za/assets/css/style.css?v=f10d6fac6ca8d5365d369c06e26eaf8b"><link rel="stylesheet" href="https://devcloud.co.za/assets/css/photoswipe.css?v=ffb247881cd6f611d007fd4a96b7b16a"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://devcloud.co.za/diagnosing-ec2-performance-issues/"},"headline":"Diagnosing EC2 Performance Issues","datePublished":"2022-02-10T23:29","dateModified":"2022-02-11T00:01","image":{"@type":"ImageObject","url":"https://devcloud.co.za/media/posts/15/How-Fast-or-Slow-Are-Turtles.jpg","height":410,"width":750},"description":"If you are an AWS beginner, or even an avid AWS user, you may experience times when your EC2 instance grinds to a halt for no apparent reason. This impact to performance is because you hit a limit, and are now being throttled. In any&hellip;","author":{"@type":"Person","name":"Jenade Moodley","url":"https://devcloud.co.za/authors/jenade-moodley/"},"publisher":{"@type":"Organization","name":"Jenade Moodley"}}</script><style>.pswp--svg .pswp__button,
				          .pswp--svg .pswp__button--arrow--left:before,
				          .pswp--svg .pswp__button--arrow--right:before {
					          background-image: url(https://devcloud.co.za/assets/svg/gallery-icons-light.svg);
			              }</style></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=G-8FC1RDBQN5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><header class="topbar" id="js-header"><div class="topbar__inner"><a class="logo" href="https://devcloud.co.za/">DevCloud</a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li class="active-parent has-submenu"><span class="is-separator" aria-haspopup="true">AWS Cloud</span><ul class="navbar__submenu level-2" aria-hidden="true"><li class="active-parent has-submenu"><span class="is-separator" aria-haspopup="true">EC2</span><ul class="navbar__submenu level-3" aria-hidden="true"><li class="active"><a href="https://devcloud.co.za/diagnosing-ec2-performance-issues/" target="_self">Diagnosing EC2 Performance Issues</a></li><li><a href="https://devcloud.co.za/how-to-configure-cgroupv2-on-amazon-linux-2/" target="_self">Enabling cgroupv2 on Amazon Linux 2</a></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">EFS</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://devcloud.co.za/improving-efs-performance-part-1/" target="_self">Why is my EFS slow?</a></li><li><a href="https://devcloud.co.za/improving-efs-performance-part-2/" target="_self">Improving EFS Performance</a></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">ECR</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://devcloud.co.za/how-does-the-docker-client-authenticate-to-ecr/" target="_self">How does the Docker client authenticate to ECR?</a></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">ECS</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://devcloud.co.za/ecs-dynamic-port-mapping/" target="_self">Dynamic Port Mapping</a></li><li><a href="https://devcloud.co.za/ecs-monitor-container-level-cpu-and-memory-using-docker-stats-and-cloudwatch-metrics/" target="_self">Container-level monitoring with Docker stats</a></li><li><a href="https://devcloud.co.za/how-to-store-ecs-stopped-task-details/" target="_self">Storing Stopped ECS Task Details</a></li><li><a href="https://devcloud.co.za/how-to-use-arm-based-gpu-ec2-instances-as-ecs-container-instances/" target="_self">ARM-based GPU container instances</a></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">ELB</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://devcloud.co.za/understanding-alb-least-outstanding-request/" target="_self">ALB - Least Outstanding Requests</a></li></ul></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">Linux</span><ul class="navbar__submenu level-2" aria-hidden="true"><li class="has-submenu"><span class="is-separator" aria-haspopup="true">NFS</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://devcloud.co.za/the-nfs-buffer-cache/" target="_self">NFS Buffer Cache</a></li></ul></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">About</span><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://devcloud.co.za/about-me/" target="_self">About Me</a></li><li><a href="https://devcloud.co.za/about-this-website/" target="_self">About this Site</a></li></ul></li></ul></nav></div></header><div class="content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2024-01-11T09:27">January 11, 2024</time></div><div class="infobar__search"><form action="https://devcloud.co.za/search.html"><input type="search" name="q" placeholder="search..." aria-label="Search input"> <button type="submit" aria-label="Submit"><svg role="presentation" focusable="false" width="15px" height="14px"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#search"/></svg></button></form></div></div><main class="main"><article class="post"><figure class="post__featured-image"><img src="https://devcloud.co.za/media/posts/15/How-Fast-or-Slow-Are-Turtles.jpg" srcset="https://devcloud.co.za/media/posts/15/responsive/How-Fast-or-Slow-Are-Turtles-xs.jpg 300w, https://devcloud.co.za/media/posts/15/responsive/How-Fast-or-Slow-Are-Turtles-sm.jpg 480w, https://devcloud.co.za/media/posts/15/responsive/How-Fast-or-Slow-Are-Turtles-md.jpg 768w, https://devcloud.co.za/media/posts/15/responsive/How-Fast-or-Slow-Are-Turtles-lg.jpg 1024w, https://devcloud.co.za/media/posts/15/responsive/How-Fast-or-Slow-Are-Turtles-xl.jpg 1360w, https://devcloud.co.za/media/posts/15/responsive/How-Fast-or-Slow-Are-Turtles-2xl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="410" width="750" alt=""><figcaption>https://turtleowner.com/how-fast-are-turtles/</figcaption></figure><header class="u-header post__header"><h1>Diagnosing EC2 Performance Issues</h1><div class="u-header__meta u-small"><img src="https://devcloud.co.za/media/website/39186496_1809180909164306_8750795900512632832_o.jpg" loading="eager" class="u-header__avatar" alt="Jenade Moodley" height="1439" width="1440"><div><a href="https://devcloud.co.za/authors/jenade-moodley/" title="Jenade Moodley">Jenade Moodley</a> <time datetime="2022-02-10T23:29">February 10, 2022 </time><a href="https://devcloud.co.za/blog/ec2/" class="u-tag u-tag--1">EC2</a></div></div></header><div class="post__entry u-inner"><p>If you are an AWS beginner, or even an avid AWS user, you may experience times when your EC2 instance grinds to a halt for no apparent reason. This impact to performance is because you hit a limit, and are now being throttled. In any server, there are four resources you need to monitor:</p><ol><li>CPU</li><li>Memory (RAM)</li><li>Disk I/O</li><li>Network I/O</li></ol><p>If even one of these hit a limit, you will experience slow performance on your server. EC2 instances are no different. You need to know how to diagnose which of the above resources are constrained. Luckily, AWS provides CloudWatch metrics you can use to get a quick glance at your instance to determine if you are experiencing any issues.</p><h2 id="cloudwatch-metrics-for-your-ec2-instance">CloudWatch metrics for your EC2 instance</h2><div class="gallery-wrapper"><div class="gallery" data-columns="1"><figure class="gallery__item"><a href="https://devcloud.co.za/media/posts/15/gallery/Screenshot-74.png" data-size="1809x559"><img loading="lazy" src="https://devcloud.co.za/media/posts/15/gallery/Screenshot-74-thumbnail.png" height="237" width="768" alt=""></a><figcaption>EC2 CloudWatch Metrics</figcaption></figure></div></div><p>If you were to select the "Monitoring" tab in your EC2 console, you would see a bunch of metrics related to your EC2 instance. You can see the CPU usage (CPUUtilization, and CPUCreditBalance which is explained further below) and Network usage (NetworkIn, NetworkOut, NetworkPacketsIn, NetworkPacketsOut). A full list of metrics are listed in the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/viewing_metrics_with_cloudwatch.html" target="_blank">AWS EC2 documentation</a>.&nbsp;</p><p>However, you may notice that there are DiskReadOps and DiskWriteOps metrics, but these metrics are sometimes empty. This is because these metrics refer to instance storage volumes, and would thus only be populated for instances which are configured to use instance store. The storage used by most instances, and is the root volume for all current generation instance types, are EBS volumes. EBS volumes are decoupled from EC2 instances to ensure availability of your data when there are issues with your instance. As such, you would need to navigate to the EBS console and locate the volumes attached to your instance in order to view your EBS usage.</p><div class="gallery-wrapper"><div class="gallery" data-columns="1"><figure class="gallery__item"><a href="https://devcloud.co.za/media/posts/15/gallery/Screenshot-76.png" data-size="1765x474"><img loading="lazy" src="https://devcloud.co.za/media/posts/15/gallery/Screenshot-76-thumbnail.png" height="206" width="768" alt=""></a><figcaption>EBS CloudWatch Usage</figcaption></figure></div></div><p>And finally, there are no metrics for memory usage. AWS does not record memory usage of your EC2 instance by default. In order to record the memory usage, you need to perform the additional step of <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Install-CloudWatch-Agent.html" target="_blank">setting up the CloudWatch agent to send memory usage to CloudWatch</a>.</p><p>However, if you can't access the CloudWatch metrics in the console for some reason (maybe you are in an Organization, and you have not been granted access), you can still monitor all of the above metrics from within the EC2 instance. If you are using Linux, you can use the <code>top</code> command to obtain an overview of your system, and on Windows you can use Task Manager.</p><h2 id="linux--the-top-command">Linux - The top command</h2><figure class="post__image post__image--center"><img loading="lazy" src="https://devcloud.co.za/media/posts/15/Screenshot-71.png" height="624" width="1076" alt="" sizes="(max-width: 48em) 100vw, 768px" srcset="https://devcloud.co.za/media/posts/15/responsive/Screenshot-71-xs.png 300w, https://devcloud.co.za/media/posts/15/responsive/Screenshot-71-sm.png 480w, https://devcloud.co.za/media/posts/15/responsive/Screenshot-71-md.png 768w, https://devcloud.co.za/media/posts/15/responsive/Screenshot-71-lg.png 1024w, https://devcloud.co.za/media/posts/15/responsive/Screenshot-71-xl.png 1360w, https://devcloud.co.za/media/posts/15/responsive/Screenshot-71-2xl.png 1600w"><figcaption>Linux top command output</figcaption></figure><p>The top command is an easy way to gain an overview of the system. You can view the CPU and memory usage of your system, as well as per process. There are no readings for disk and network metrics, but we can diagnose if there are any issues with these metrics using the load average. The load average measures the amount of load on your system, and includes processes using CPU, as well as processes waiting to use CPU. Such processes contribute to the <code>iowait</code> metric. As such, if load average is high but CPU usage is low, then that means that your system is suffering from I/O wait. In this case, you would usually see a large number of processes stuck in D state, indicating they are waiting for I/O to complete.</p><p>However, if you would like to monitor network and disk I/O, you can look at using <a href="https://linux.die.net/man/1/sar"><code>sar</code></a>. <code>sar</code> is a very powerful tool which you can use to view and even record in-depth metrics on your system. <code>sar</code> is part of the <code>sysstat</code> package, hence you can simply install <code>sysstat</code> in order to begin using sar:</p><h5 id="amazon-linux-centos-rhel">Amazon Linux, CentOS, RHEL</h5><pre class="line-numbers language-bash"><code>$ sudo yum install sysstat -y</code></pre><h5 id="ubuntu">Ubuntu</h5><pre class="line-numbers language-bash"><code>sudo apt-get update
sudo apt-get install sysstat</code></pre><p>I won't be going through all of <code>sar</code>, but you can view disk and network usage with the below commands:</p><h5 id="disk">Disk</h5><pre class="line-numbers language-html"><code>$ sar -p -d 1 1
Linux 4.14.256-197.484.amzn2.x86_64 (ip-10-0-138-139.eu-west-1.compute.internal)        02/10/22        _x86_64_        (2 CPU)

17:45:01          DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
17:45:02      nvme0n1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

Average:          DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
Average:      nvme0n1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00</code></pre><h5 id="network">Network</h5><pre class="line-numbers language-html"><code>$ sar -n DEV 1 1
Linux 4.14.256-197.484.amzn2.x86_64 (ip-10-0-138-139.eu-west-1.compute.internal)        02/10/22        _x86_64_        (2 CPU)

17:45:41        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s
17:45:42         eth0      2.00      0.00      0.09      0.00      0.00      0.00      0.00
17:45:42           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00
17:45:42      docker0      0.00      0.00      0.00      0.00      0.00      0.00      0.00
17:45:42         eth1      0.00      0.00      0.00      0.00      0.00      0.00      0.00

Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s
Average:         eth0      2.00      0.00      0.09      0.00      0.00      0.00      0.00
Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00
Average:      docker0      0.00      0.00      0.00      0.00      0.00      0.00      0.00
Average:         eth1      0.00      0.00      0.00      0.00      0.00      0.00      0.00</code></pre><h2 id="windows--task-manager">Windows - Task Manager</h2><figure class="post__image post__image--center"><img loading="lazy" src="https://devcloud.co.za/media/posts/15/Screenshot-2022-02-10-194153.jpg" height="1033" width="1125" alt="" sizes="(max-width: 48em) 100vw, 768px" srcset="https://devcloud.co.za/media/posts/15/responsive/Screenshot-2022-02-10-194153-xs.jpg 300w, https://devcloud.co.za/media/posts/15/responsive/Screenshot-2022-02-10-194153-sm.jpg 480w, https://devcloud.co.za/media/posts/15/responsive/Screenshot-2022-02-10-194153-md.jpg 768w, https://devcloud.co.za/media/posts/15/responsive/Screenshot-2022-02-10-194153-lg.jpg 1024w, https://devcloud.co.za/media/posts/15/responsive/Screenshot-2022-02-10-194153-xl.jpg 1360w, https://devcloud.co.za/media/posts/15/responsive/Screenshot-2022-02-10-194153-2xl.jpg 1600w"><figcaption>Windows Task Manager Output</figcaption></figure><p>The Windows task manager provides a graphical interface for you to view the overall metrics of your system. The graphs are intuitive and easy to understand.</p><h2 id="what-do-i-look-for-in-the-monitoring-tools">What do I look for in the monitoring tools?</h2><p>As you would have hit a limit for one of the above resources, you cannot use any more of that resource. Projecting that analogy to a graph, this would be seen by a <u>flat line</u>. A PC or server's usage of resources are not always exactly the same; there would be some slight variance over time. If there is a flat line for any metric, chances are that you are being throttled on that metric.</p><p>When you notice a flat line, you should check the details for your instance or EBS volume to determine the available limits. For CPU and memory, a value which is consistently at 100% is a sign of CPU and memory pressure. Similarly, Task Manager would also consistently be at 100%. In top, the output for %Cpu would show 0.0 idle indicating that the CPU is completely busy, and there would be no available memory.</p><p>On the other hand, network performance and EBS performance would have a definite value, not a percentage. If you hit a limit, the CloudWatch metric and Task Manager output would flatline at this value. In top, you would see a high value for load average, as well as a high value for iowait. If using sar, you would see that the values returned over a period of time would be similar in value.</p><p>However, there may be times when the network, CPU, or EBS performance flatlines, and the values seen are not the advertised limits. In this case, that resource is a burstable resource, and is being throttled on the baseline performance.</p><h2 id="the-aws-burst-model">The AWS Burst Model</h2><p>AWS incorporates a burst model when using a vast majority of their services. In an EC2 instance, as it is a VM and is on a shared underlying host with other customers, these limits are in place to ensure that you can go above your baseline limits during high workloads, but the throttle is in place so that other instances on the host are unaffected (this behaviour varies per instance type).&nbsp;</p><p>To explain the burst model, for a specific resource, you are allocated a baseline performance. The baseline performance is over a set time period, usually per second. However, to account for spikes in workloads, your instance can go above the baseline performance for a short period of time using burst credits. If you sustain this usage, the burst credits would steadily be used up until it is depleted, and then you will be throttled back to the baseline performance. If the usage drops below the baseline performance, burst credits would begin to accumulate once again.</p><p>To explain by means of an example, the t2.micro is a general performance instance type, with a burstable CPU performance. By default, it has 1 vCPU, and a baseline performance of 10% of that vCPU. As soon as you begin to use more than 10% CPU, CPU burst credits are used. As soon as the credits are exhausted, the instance is throttled to 10% CPU usage.</p><p>This burstable model is in place for the below resources:</p><ul><li>CPU usage for T2, T3, T3a, and T4g instance types. The baseline performance differs between each instance type. These are referred to as <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/burstable-credits-baseline-concepts.html" target="_blank">Burstable Performance Instances</a>.</li><li>EBS IOPS usage on <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volume-types.html#EBSVolumeTypes_gp2" target="_blank">gp2 EBS volumes</a>.</li><li>Network performance on a variety of instance types. This is documented in the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-network-bandwidth.html" target="_blank">AWS EC2 documentation</a>.</li></ul><p>CPU and EBS burst details are documented clearly, and you can measure the amount of burst balance remaining for each resource. However, you cannot view the burst balance for network performance. You can only view the baseline performance per instance type in the above documentation.</p><h2 id="how-do-i-proceed-after-identifying-the-throttled-resource">How do I proceed after identifying the throttled resource?</h2><p>The first step would be to try and fix the usage. In Task Manager, you can view which process is using up the specified resource. In top, you can identify which process is using up the most CPU and memory, as well as determine which processes are in D state to diagnose network and disk hungry processes. Once identified, you should examine each process to see if this is expected. You can check the logs for that process if possible to see of there was any unusual occurrences. However, if you notice that the resource was slowly and steadily increasing, odds are that your instance just got busier over time. However, do not just assume this, always try and confirm.</p><p>If you confirm the usage is expected, you then need to allocate more resources to handle the load. In order to increase the resources, you can look at scaling up, or scaling out. Scaling up refers to upgrading the instance type to one which has more of the specified resource. For example, if you are using a t2.micro, you can update to a t2.medium. Scaling out however means to increase the number of instances. This is useful if you are able to make use of multiple instances simultaneously in your application, for example, by means of a load balancer.&nbsp;</p><p>In the case of gp2 EBS volumes however, you should instead look at migrating to gp3 volumes. gp3 volumes do not use baseline performance and burst credits. You specify the IOPS and throughput you need, and you will receive consistent performance at those IOPS. g3 volumes are also slightly cheaper than gp2 volumes. For more information, you can refer to the <a href="https://aws.amazon.com/ebs/pricing/" target="_blank">EBS pricing page</a>.</p><h2 id="summary">Summary</h2><p>We can recap the above blog with these points:</p><ul><li>Your instance can hit a limit on CPU, memory, network, and/or disk which can cause performance issues.&nbsp;</li><li>You can determine which resource is throttled using CloudWatch metrics, or using monitoring tools from within the instance.&nbsp;</li><li>When looking at usage, look for a flatline or similar values in the metrics.&nbsp;</li><li>Don't forget to take into account burstable resources when using certain instance types.</li><li>&nbsp;After identifying the issue, determine if this is expected or an anomaly.</li><li>If expected, you can scale up or scale out, depending on your business needs</li></ul><p>This article can help those using EC2 and seeing performance issues, and provides and end-to-end guide of identifying the cause, and fixing the issue.&nbsp;</p></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on February 11, 2022</div><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevcloud.co.za%2Fdiagnosing-ec2-performance-issues%2F" class="js-share facebook" title="Share with Facebook" rel="nofollow noopener noreferrer" aria-label="Share with Facebook"><svg class="u-icon"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fdevcloud.co.za%2Fdiagnosing-ec2-performance-issues%2F&amp;via=DevCloud&amp;text=Diagnosing%20EC2%20Performance%20Issues" class="js-share twitter" title="Share with Twitter" rel="nofollow noopener noreferrer" aria-label="Share with Twitter"><svg class="u-icon"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fdevcloud.co.za%2Fdiagnosing-ec2-performance-issues%2F&amp;media=https%3A%2F%2Fdevcloud.co.za%2Fmedia%2Fposts%2F15%2FHow-Fast-or-Slow-Are-Turtles.jpg&amp;description=Diagnosing%20EC2%20Performance%20Issues" class="js-share pinterest" title="Share with Pinterest" rel="nofollow noopener noreferrer" aria-label="Share with Pinterest"><svg class="u-icon"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#pinterest"/></svg> </a><a href="https://wa.me/?text=Diagnosing%20EC2%20Performance%20Issues https%3A%2F%2Fdevcloud.co.za%2Fdiagnosing-ec2-performance-issues%2F" class="js-share whatsapp" rel="nofollow noopener noreferrer" title="Share with WhatsApp" aria-label="Share with WhatsApp"><svg class="u-icon"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#whatsapp"/></svg> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fdevcloud.co.za%2Fdiagnosing-ec2-performance-issues%2F" class="js-share linkedin" title="Share with LinkedIn" rel="nofollow noopener noreferrer" aria-label="Share with LinkedIn"><svg class="u-icon"><use xlink:href="https://devcloud.co.za/assets/svg/svg-map.svg#linkedin"/></svg></a></div></aside><footer class="post__footer"><ul class="post__tag box"><li><a href="https://devcloud.co.za/blog/ec2/" class="u-tag u-tag--1" title="EC2">EC2</a></li></ul><div class="post__bio box"><img class="u-author__avatar" src="https://devcloud.co.za/media/website/39186496_1809180909164306_8750795900512632832_o.jpg" loading="lazy" alt="Jenade Moodley" height="1439" width="1440"><div><h4 class="h6"><a href="https://devcloud.co.za/authors/jenade-moodley/" title="Jenade Moodley">Jenade Moodley</a></h4><p>Hi there. I&#x27;m a Cloud Engineer, currently working at AWS. I have a background in Computer Science, and gained reputable experience with Linux, Containers, and Cloud Architecture</p></div></div><nav class="post__nav box"><div class="post__nav__prev"><a href="https://devcloud.co.za/how-does-the-docker-client-authenticate-to-ecr/" class="post__nav__link" rel="prev"><img src="https://devcloud.co.za/media/posts/16/responsive/ECR-Docker2-xs.png" loading="lazy" alt="" height="1473" width="3453"><div class="u-small">Previous Post<h5>How does the Docker client authenticate to ECR?</h5></div></a></div><div class="post__nav__next"><a href="https://devcloud.co.za/how-to-use-arm-based-gpu-ec2-instances-as-ecs-container-instances/" class="post__nav__link" rel="next"><div class="u-small">Next Post<h5>How to use ARM-based GPU EC2 instances as ECS container instances</h5></div><img src="https://devcloud.co.za/media/posts/17/responsive/AWS-Nvidia-xs.jpg" loading="lazy" alt="" height="680" width="1280"></a></div></nav><div class="post__related box"><h3 class="box__title">Related posts</h3><div class="post__related-wrap"><figure class="post__related-item"><a href="https://devcloud.co.za/improving-efs-performance-part-2/" class="c-card__image"><img src="https://devcloud.co.za/media/posts/7/responsive/AWS_EFS-system_DIMq8h4-xs.jpg" loading="lazy" height="624" width="1200" alt=""></a><figcaption><h4 class="post__related-title"><a href="https://devcloud.co.za/improving-efs-performance-part-2/" class="inverse">Improving EFS Performance</a></h4><time datetime="2020-07-17T23:57" class="u-small">July 17, 2020</time></figcaption></figure></div></div></footer></article><div class="comments box"><h3 class="box__title">Comments</h3><div id="disqus_thread"></div><script>var disqus_config = function () {
                    this.page.url = 'https://devcloud.co.za/diagnosing-ec2-performance-issues/';
                    this.page.identifier = '15';
                };
                var disqus_element_to_check = document.getElementById('disqus_thread');
            
                if ('IntersectionObserver' in window) {
                    var iObserver = new IntersectionObserver(
                        (entries, observer) => {
                            entries.forEach(entry => {
                                if (entry.intersectionRatio >= 0.1) {
                                    (function () {
                                        var d = document, s = d.createElement('script');
                                        s.src = 'https://'+'devcloud-co-za'.trim()+'.disqus.com/embed.js';
                                        s.setAttribute('data-timestamp', +new Date());
                                        (d.head || d.body).appendChild(s);
                                    })();
                                    observer.unobserve(entry.target);
                                }
                            });
                        },
                        {
                            threshold: [0, 1]
                        }
                    );
            
                    iObserver.observe(disqus_element_to_check);
                } else {
                    (function () {
                        var d = document, s = d.createElement('script');
                        s.src = 'https://'+'devcloud-co-za'.trim()+'.disqus.com/embed.js';
                        s.setAttribute('data-timestamp', +new Date());
                        (d.head || d.body).appendChild(s);
                    })();
                }</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></main><div class="sidebar"><section class="box featured"><h3 class="box__title">Featured</h3><ul class="featured__container"><li class="featured__item"><a href="https://devcloud.co.za/how-to-store-ecs-stopped-task-details/" class="featured__image-link"><img src="https://devcloud.co.za/media/posts/14/responsive/df8a5c58-68a2-4f99-bc4d-3e080890d13a-xs.jpg" class="lazyload" loading="lazy" alt="" height="619" width="619"></a><div><a href="https://devcloud.co.za/how-to-store-ecs-stopped-task-details/" class="featured__title">How to store ECS Stopped Task Details</a> <time class="u-small" datetime="2020-10-08T16:43">October 8, 2020</time></div></li><li class="featured__item"><div><a href="https://devcloud.co.za/the-nfs-buffer-cache/" class="featured__title">The NFS Buffer Cache</a> <time class="u-small" datetime="2020-07-25T16:44">July 25, 2020</time></div></li><li class="featured__item"><div><a href="https://devcloud.co.za/understanding-alb-least-outstanding-request/" class="featured__title">Understanding Least Outstanding Requests ALB Load Balancing Algorithm</a> <time class="u-small" datetime="2020-07-24T00:36">July 24, 2020</time></div></li><li class="featured__item"><a href="https://devcloud.co.za/improving-efs-performance-part-2/" class="featured__image-link"><img src="https://devcloud.co.za/media/posts/7/responsive/AWS_EFS-system_DIMq8h4-xs.jpg" class="lazyload" loading="lazy" alt="" height="624" width="624"></a><div><a href="https://devcloud.co.za/improving-efs-performance-part-2/" class="featured__title">Improving EFS Performance</a> <time class="u-small" datetime="2020-07-17T23:57">July 17, 2020</time></div></li><li class="featured__item"><a href="https://devcloud.co.za/improving-efs-performance-part-1/" class="featured__image-link"><img src="https://devcloud.co.za/media/posts/6/responsive/AWS_EFS-system_DIMq8h4-xs.jpg" class="lazyload" loading="lazy" alt="" height="624" width="624"></a><div><a href="https://devcloud.co.za/improving-efs-performance-part-1/" class="featured__title">Why is my EFS slow?</a> <time class="u-small" datetime="2020-07-16T23:10">July 16, 2020</time></div></li></ul></section><section class="box u-ads"><h3 class="u-ads__title">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4779588160411156" crossorigin="anonymous"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4779588160411156" data-ad-slot="9127304575" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></section><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><a href="https://devcloud.co.za/authors/jenade-moodley/" class="authors__image-link"><img src="https://devcloud.co.za/media/website/39186496_1809180909164306_8750795900512632832_o.jpg" loading="lazy" alt="Jenade Moodley" height="1439" width="1440"></a><div><a href="https://devcloud.co.za/authors/jenade-moodley/" class="authors__title">Jenade Moodley</a> <span class="u-small">Post: 13</span></div></li></ul></section><section class="box"><h3 class="box__title">Tags</h3><ul class="tags"><li><a href="https://devcloud.co.za/blog/alb/">ALB</a> <span class="u-small">(2)</span></li><li><a href="https://devcloud.co.za/blog/amazon-linux/">Amazon Linux</a> <span class="u-small">(1)</span></li><li><a href="https://devcloud.co.za/blog/test/">ARM64</a> <span class="u-small">(1)</span></li><li><a href="https://devcloud.co.za/blog/aws/">AWS</a> <span class="u-small">(7)</span></li><li><a href="https://devcloud.co.za/blog/docker/">Docker</a> <span class="u-small">(3)</span></li><li><a href="https://devcloud.co.za/blog/ec2/">EC2</a> <span class="u-small">(3)</span></li><li><a href="https://devcloud.co.za/blog/ecr/">ECR</a> <span class="u-small">(1)</span></li><li><a href="https://devcloud.co.za/blog/ecs/">ECS</a> <span class="u-small">(4)</span></li><li><a href="https://devcloud.co.za/blog/efs/">EFS</a> <span class="u-small">(2)</span></li><li><a href="https://devcloud.co.za/blog/arm/">GPU</a> <span class="u-small">(1)</span></li></ul></section></div><footer class="footer"><a class="footer__logo" href="https://devcloud.co.za/">DevCloud</a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright"><p>Powered by Publii</p></div></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://devcloud.co.za/assets/js/scripts.min.js?v=bb66f1d815180573784f8434c8f0bf78"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script><script defer="defer" src="https://devcloud.co.za/assets/js/photoswipe.min.js?v=017385b552f7e0d979e2e2fe6f324015"></script><script defer="defer" src="https://devcloud.co.za/assets/js/photoswipe-ui-default.min.js?v=d067f0883540b1ddda0e2c9ad1b14260"></script><script>var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
          linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
          if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
          item.el=figureEl;items.push(item);}
          return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
          var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
          if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
          nodeIndex++;}
          if(index>=0){openPhotoSwipe(index,clickedGallery);}
          return false;};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
          var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
          var pair=vars[i].split('=');if(pair.length<2){continue;}
          params[pair[0]]=pair[1];}
          if(params.gid){params.gid=parseInt(params.gid,10);}
          return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};},
          mainClass:'pswp--dark',
          preload: [1,2],
          hideAnimationDuration:200,
          showAnimationDuration:0,
          bgOpacity: 0.7,
          showHideOpacity:true,
          closeOnScroll: true,
          arrowKeys: true,
          closeEl: true,
          captionEl: true,
          fullscreenEl: true,
          zoomEl: true,
          shareEl: true,
          counterEl: true,
          arrowEl: true,
          preloaderEl: true
          };if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
          if(isNaN(options.index)){return;}
          if(disableAnimation){options.showAnimationDuration=0;}
          gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();gallery.options.escKey=true;};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
          var hashData=photoswipeParseHash();if(hashData.pid&&hashData.gid){openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],true,true);}};window.addEventListener('load', function () {initPhotoSwipeFromDOM('.gallery');}, false);</script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></body></html>